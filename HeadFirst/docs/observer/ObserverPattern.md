# 🖼️ 옵저버 패턴

> `옵저버 패턴(Observer Patter)`은 한 객체의 상태가 바뀌면 그 객체에 의존하는 다른 객체에게 연락이 가고
> 자동으로 내용이 갱신되는 방식으로 일대다(one-to-many) 의존성을 한다.

### ✨ 느슨한 결합(Loose Coupling)

- 객체들이 상호작용할 수는 있지만, 서로를 잘 모르는 관계를 의미한다.
- 느슨한 결합은 객체간의 유연성을 높여준다.
- 옵저버 패턴은 느슨한 결합을 도와준다.
- `주제`는 `옵저버`가 <b>특정 인터페이스(Observer 인터페이스)</b>를 구현한다는 사실만 안다.
- 옵저버는 언제든지 새로 추가할 수 있습니다. 마찬가지로 언제든지 다른 옵저버로 바꿀 수 있고 삭제할 수있다.
- 새로운 형식의 옵저버를 추가할 때도 주제를 변경할 필요가 전혀 없다.
- 주제와 옵저버는 서로 독립적으로 재사용할 수 있다.
- 주제나 옵저버가 달라져도 서로에게 영향을 미치지는 않는다.

### ✨ 디자인 원칙
- 상호작용하는 객체 사이에는 가능하면 느슨한 결합을 사용해야 한다.
  - 느슨하게 결합하는 디자인을 사용하면 변경 사항의 대처가 유연하다.
  - 이는 객체지향 시스템 구축의 발판이다.
  - 객체 사이 상호의존성의 최소화에 대한 고민을 꾸준히 해본다.

### ✨ 객체지향 기초
- 추상화
- 캡슐화
- 다형성
- 상속

### ✨ 객체지향 원칙
- 바뀌는 부분은 캡슐화한다.
- 상속보다는 구성을 활용한다.
- 구현보다는 인터페이스에 맞춰서 프로그래밍한다.
- 상호작용하는 객체 사이에서는 가능하면 느슨한 결합을 사용해야 한다. 
  - 해당 부분이 새로 추가된 항목임.
  - 유연하게 변화 할 수있는 방법은 느슨한 결합이다.

### 🚨 핵심 정리
- 옵저버 패턴은 객체들 사이에 일대다 관계를 정의한다.
- 주제(Subject)는 동일한 인터페이스를 사용해 옵저버(Observer)에게 연락한다.
- 옵저버 패턴은 여러 개의 주제와 메시지 유형이 있는 복잡한 상황에서 사용하는 출판 - 구독 패턴과 친척임.

### 디자인 원칙에 따른 정리
> - 애플리케이션에서 달라지는 부분을 찾아내고, 달라지지 않는 부분과 분리한다.
1. 옵저버 패턴에서 변하는 것은 주제의 상태와 옵저버의 개수, 형식이다.
2. 옵저버 패턴에서는 주제를 바꾸지 않고도 주제의 상태에 의존하는 객체들을 바꿀 수 있다.

> - 구현보다는 인터페이스에 맞춰서 프로그래밍한다.
1. 주제와 옵저버에서 모두 인터페이스를 사용했습니다.
2. 주제는 Subject 인터페이스로 Observer 인터페이스를 구현하는 객체들의 `등록`과 `탈퇴`를 관리하고, 그런 객체들에게 연락을 취한다.

> - 상속보다는 구성(has a)을 활용한다.
1. 옵저버 패턴에서는 구성을 활용해서 옵저버들을 관리한다.
2. 주제와 옵저버 사이의 관계는 상속이 아니라 구성으로 이루어져있다.